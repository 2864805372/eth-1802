1. day16复习

   1. IPFS
      1. 定义
      2. HTTP当前存在的一些问题
      3. IPFS工作原理
      4. IPNS
      5. IPFS特点
   2. IPFS相关操作
      1. 安装
      2. 项目配置
      3. 基本指令
      4. 基本操作
         1. 新增文件
         2. 新增目录
         3. 添加目录到IPFS节点中
         4. 创建简易网页发布到IPFS
         5. 个人博客
            1. hugo
               1. 安装
               2. 搭建
         6. js-ipfs-api
            1. ipfs读取数据
            2. ipfs上传图片
            3. ipfs与以太坊

2. 以太坊源码分析

   1. 按照公链实战流程来分析
      1. 区块与区块链
      2. POW共识
      3. 持久化与命令行
      4. 交易
      5. P2P
   2. 以太坊白皮书
   3. 以太坊黄皮书

3. ETH架构逻辑

   1. 应用层：以太坊最上层，展示各种DAPP的应用，主要使用truffle和web3.js
   2. 合约层：平台层，通过该层可以开发任意DAPP，实现完整的区块链系统，在以太中合约层主要包括EVM以及智能合约
   3. 激励层：以太坊采用POW实现挖矿机制
   4. 共识层：规定通过何种方式来实现交易记录的过程
   5. 网络层：以太坊底层分布式网络，采用kad算法，广播采用UDP
   6. 数据层：以太坊存储由leveldb数据库保存

4. 以太坊源码分析

   1. 源码下载：https://github.com/ethereum/go-ethereum.git

   2. 下载指定tag: git clone --branch v1.7.3 https://github.com/ethereum/go-ethereum.git

   3. 编译源码：make geth

   4. 版本：1.7.3

   5. 以太坊源码目录结构分析

      ```
      accounts			实现以太坊账户管理
      build				实现编译和构建相关脚本与配置
      cmd					命令行
      common				公共的工具类
      consensus			以太坊共识算法
      core				以太坊核心的数据结构和算法
      crypto				以太坊加密算法相关实现
      eth					以太坊协议
      ethClient			实现以太坊RPC客户端
      ethdb				以太坊数据库，包含了持久化数据库与内存数据库
      ethStatus			以太坊网络状态报告
      event				以太坊事件
      les					以太坊轻量级协议
      light				为以太坊轻量级客户端提供索引功能
      log					提供日志功能
      miner				以太坊挖矿
      mobile				移动端相关管理
      node				以太坊中各种类型的节点管理
      p2p					心太坊最主要的网络协议
      rlp					以太坊序列化处理
      tests				测试
      trie				以太坊主要数据结构"帕特里夏"树的实现
      whisper				提供whisper节点协议，用于以太坊DAPP之间的通信
      ```

   6. 代码分析

      1. 区块与区块链
      2. 挖矿
         1. 共识：区块链中各个节点对下一个区块的内容达成一致认识的过程
         2. 在以太坊源码中，共识分为两块
            1. clique:在测试网络中使用的共识算法
            2. ethash:在公网中使用的共识算法
         3. 以太坊-ethash
            1. eth与bitcoin一样，采用基于工作量证明的POW共识算法来产生新的区块，与bitcoin不同的是eth采用了可以抵御ASIC对挖矿工作的垄断的共识，就是ethash
            2. ASIC:专门为某种特定用途设计的电子电路芯片，在比特币中叫矿机芯片，与CPU，GPU相比，ASIC在同等价位下，算力能够高出数万倍
            3. ethash:专门针对比特币中算力集中的情况所设计的一种算法，加入了内存难解步骤
            4. 在ethash中，除了比特币中的工作量证明 ，还需要进行添加历史交易数据的混淆运算，矿工在运算该算法时，还需要去访问内存的历史交易信息(内存消耗的来源)
         4. 以太坊的挖矿流程
            1. miner
            2. worker
            3. agent